<!doctype html>
<html dir="rtl">
  <head>
    <title>הפרויקט שלי יהיה...</title>
    <meta charset="utf-8">
    <meta property="viewport" content="width=device-width,initial-scale=1">
    <link rel="icon" href="icon.png">
    <link href="https://fonts.googleapis.com/css?family=Miriam+Libre:400,700&amp;subset=hebrew" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
	  
	<article>
		
		<section class="application">
			<span class="label">הפרויקט שלי יהיה</span>
			<label>
				<select>
					<option>סיפור נראטיבי</option>
					<option>סיפור אינטראקטיבי</option>
					<option>כלי עזר</option>
					<option>תדמית חזותית</option>
					<option>קטלוג תערוכה</option>
					<option>קמפיין</option>
					<option>מניפסט חזותי</option>
				</select>
				<span class="label-text"></span>
			</label>
		</section>

		<section class="technique">
			<span class="label">בטכניקה</span>
			<label>
				<select>
					<option>איורית</option>
					<option>טיפוגרפית</option>
					<option>אינפוגרפית</option>
					<option>ידנית בלבד</option>
					<option>של שחור/לבן</option>
					<option>מבוססת רדי-מייד</option>
					<option>מבוססת קוד</option>
				</select>
				<span class="label-text"></span>
			</label>
		</section>

		<section class="format">
			<span class="label">בפורמט של</span>
			<label>
				<select>
					<option>מושן גרפיקס</option>
					<option>אתר אינטרנט</option>
					<option>אפליקציית מובייל</option>
					<option>ספר</option>
					<option>סדרת חוברות</option>
					<option>סדרת פוסטרים</option>
					<option>סדרת אריזות</option>
					<option>הצבה במרחב</option>
					<option>וידאו-מאפינג</option>
					<option>מערכת שילוט</option>
				</select>
				<span class="label-text"></span>
			</label>
		</section>
		
	</article>
    
	<div class="refresh">
		<button class="refresh-button" title="רענן (אפשר גם ללחוץ אנטר)">🔄</button>
	</div>
	
    <script type="text/javascript">
	    
	    document.querySelectorAll( "label" ).forEach( labelElement => {
		    
		    var selectElement = labelElement.querySelector( "select" );
		    
		    selectElement.addEventListener( "input", e => {
			    
			    labelElement.querySelector( ".label-text" ).innerHTML = e.currentTarget.value;
			    
			    labelElement.dataset.locked = true;
			    
			} );
		    
	    } );
	    
	    var refresh = () => {

		    document.querySelectorAll( "label" ).forEach( labelElement => {
			    
			    if ( 'locked' in labelElement.dataset ) return;
			    
			    var selectElement = labelElement.querySelector( "select" );
			    
			    selectElement.selectedIndex = Math.floor( Math.random() * selectElement.length );
			    
			    labelElement.querySelector( ".label-text" ).innerHTML = selectElement.value;
			    
		    } );
		    
	    }
	    
	    refresh();
	    
	    window.addEventListener( "keyup", ( e ) => {
		    
		    if ( e.target.className == "refresh-button" ) return;
		    
		    if ( 13 == e.keyCode ) {
			    
			    refresh();
			    
		    }
		    
	    } );
	    
	    document.querySelector( ".refresh-button" ).addEventListener( "click", e => refresh() );
	    
	</script>

  </body>
</html>					        
